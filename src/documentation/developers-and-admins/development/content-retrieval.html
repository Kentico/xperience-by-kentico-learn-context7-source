<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Content retrieval</title>
</head>
<body>
<p>This section describes how to retrieve data from Xperience. You can work with the following system objects:</p>
<ul>
<li><a href="/documentation/developers-and-admins/development/content-retrieval/retrieve-page-content">Pages</a></li>
<li><a href="/documentation/developers-and-admins/development/content-retrieval/retrieve-content-items">Content items</a></li>
<li><a href="#retrieve-form-data">Form records</a></li>
<li><a href="/documentation/developers-and-admins/development/content-retrieval/retrieve-content-from-media-libraries">Media library files</a></li>
<li><a href="#retrieve-general-object-data">General objects managed by the system</a></li>
<li><a href="/documentation/developers-and-admins/development/content-retrieval/retrieve-headless-content">Retrieve content from headless channels using GraphQL</a></li>
</ul>
<h2 id="retrieve-form-data">Retrieve form data</h2>
<p>When retrieving forms data, use <code>BizFormItemProvider</code> and <a href="/documentation/developers-and-admins/api/generate-code-files-for-system-objects">generated</a> <em>&lt;FormCodeName&gt;Item</em> classes. <code>BizFormItemProvider</code> exposes two methods to facilitate form data retrieval:</p>
<ul>
<li>
<code>GetItem&lt;TType&gt;</code>–returns a record of the specified type and ID.</li>
<li>
<code>GetItems&lt;TType&gt;</code> – returns all records of the specified type using the <a href="/documentation/developers-and-admins/api/objectquery-api">ObjectQuery API</a>.</li>
</ul>
<p>The following example demonstrates how to retrieve individual submissions from a ‘<em>Contact Us</em>’ form. The code uses a generated form data class (<code>ContactUsItem</code>) to work with individual submitted entries.</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong></strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>

// Gets all form items of the given type
IEnumerable&lt;ContactUsItem&gt; items = BizFormItemProvider.GetItems&lt;ContactUsItem&gt;();

// Gets a single form item with the given type and ID
ContactUsItem item = BizFormItemProvider.GetItem&lt;ContactUsItem&gt;(1);

// Programatically assigns and saves a value for the form record's 'CustomField' input
object customFieldValue = "CustomValue";
item.SetValue(nameof(item.Fields.CustomField), customFieldValue);
item.SubmitChanges(false);

</code></pre>
</div>

<h2 id="retrieve-general-object-data">Retrieve general object data</h2>
<p>To retrieve general objects managed by the system, use the corresponding <em>&lt;Class&gt;Info</em> classes (e.g., <code>UserInfo</code>) and the <code>I&lt;Class&gt;InfoProvider</code> interface to retrieve the data. The query generated by the <code>Get</code> method of the interface can be parameterized using ObjectQuery syntax, see <a href="/documentation/developers-and-admins/api/objectquery-api">ObjectQuery API</a> and <a href="/documentation/developers-and-admins/api/database-table-api">Database table API</a> for more information.</p>
<p>The following example shows how to get user objects.</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong></strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>

// An instance of  IUserInfoProvider (e.g., obtained via dependency injection)
private readonly IUserInfoProvider userInfoProvider;

// An instance of the object query
var query = userInfoProvider.Get();

// Gets all users and materializes the result
IEnumerable&lt;User&gt; users = query.GetEnumerableTypedResult();

</code></pre>
</div>


</body>
</html>
