<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Enable content tree-based routing</title>
</head>
<body>
<p>Before you can start using <a href="/documentation/developers-and-admins/development/routing/content-tree-based-routing">content tree-based routing</a>, the related feature needs to be enabled in the Xperience .NET application.</p>
<ol type="1">
<li><p>Open your project in Visual Studio and edit the <strong>Program.cs</strong> file.</p></li>
<li>
<p><a href="/documentation/developers-and-admins/development/website-development-basics/configure-new-projects/enable-application-features">Enable</a> the content tree-based routing feature by calling <code>UseWebPageRouting</code> within <code>AddKentico</code>.</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>Program.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>

using Kentico.Content.Web.Mvc.Routing;
using Kentico.Web.Mvc;

...

WebApplicationBuilder builder = WebApplication.CreateBuilder(args);

...

builder.Services.AddKentico(features =&gt;
{
    // Enables content tree-based routing
    features.UseWebPageRouting();
});

</code></pre>
</div>
</li>
</ol>
<p>Content tree-based routing is now enabled for the application. The <code>Kentico().MapRoutes()</code> method called in your application’s startup pipeline registers a general route that matches URLs generated by the system for <a href="/documentation/developers-and-admins/development/content-types">content types</a> with the <em>Include in routing</em> option set.</p>
<h2 id="optional-routing-configuration">Optional routing configuration</h2>
<ol type="1">
<li>Edit your website channel in the <strong>Channel management</strong> application and switch to <strong>Channel settings</strong>.</li>
<li>Under the <strong>Content tree-based routing</strong> section:
<ul>
<li>
<p>Enter the tree path of your desired home page into the <strong>Home page</strong> field.</p>
<ul>
<li>To find the <strong>Tree path</strong> of a page, open the website channel’s application, select the page, and go to <strong>Properties → Information</strong>.</li>
<li>The system displays the specified page when the root URL is accessed.</li>
<li>Using a unified home page URL is highly recommended because it prevents the duplicate content problem on your website’s most important URL.</li>
</ul>
</li>
<li>
<p>Enable the <strong>Store edited URLs as former URLs</strong> setting if you want the system to keep track of <a href="/documentation/business-users/website-content/manage-page-urls">changes made to page URLs</a> and perform redirects from former to current URLs.</p>
<ul>
<li>To prevent the accumulation of various temporary URLs as former URLs, we recommend enabling this setting only on live websites (i.e. production environments).</li>
</ul>
</li>
</ul>
</li>
<li>
<strong>Save</strong> the changes.</li>
</ol>

</body>
</html>
