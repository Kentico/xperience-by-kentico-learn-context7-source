<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Require authentication for certain content</title>
</head>
<body>
<p>When a business decides to include members in their project, they typically have some kind of exclusive content that only members should be able to see.</p>
<p>As a result, developers must ensure that only signed-in members can see certain content.</p>
<p>Luckily, Xperience and .NET Identity both include functionality to facilitate this process.</p>
<h2 id="before-you-start">Before you start</h2>
<p>This guide requires the following:</p>
<ul>
<li>Familiarity with <a href="https://learn.microsoft.com/en-us/dotnet/csharp/" target="_blank">C#</a>, <a href="https://learn.microsoft.com/en-us/dotnet/" target="_blank">.NET Core</a>, <a href="https://learn.microsoft.com/en-us/aspnet/core/security/authentication/identity" target="_blank">.NET Identity</a>, <a href="https://learn.microsoft.com/en-us/dotnet/core/extensions/dependency-injection" target="_blank">Dependency injection</a>, and the <a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/overview" target="_blank">MVC pattern</a>.</li>
<li>A running instance of Xperience by Kentico, preferably <a href="/documentation/changelog">30.6.2</a> or higher.

<div>

</div>
<div>
Some features covered in the Training guides may not work in older versions.
</div>
</li>
</ul>

<div>
<p><strong>Code samples</strong></p>
<p>The code samples in this guide rely on code from previous guides in the <a href="/guides/development/members">Members series</a>.</p>
<p>You can find a project with completed, working versions of code samples from this guide and others in the <a href="https://github.com/Kentico/xperience-by-kentico-training-guides/tree/finished" target="_blank">finished branch</a> of the <em>Training guides</em> repository.</p>
<p>The <a href="https://github.com/Kentico/xperience-by-kentico-training-guides" target="_blank">main branch</a> of the repository provides a starting point to code along with the guides.</p>
<p>The code samples in this guide are for <a href="https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-8/overview" target="_blank">.NET 8</a> only.</p>
<p>They come from a project that uses <a href="https://learn.microsoft.com/en-us/dotnet/core/project-sdk/overview#implicit-using-directives" target="_blank">implicit using directives</a>. You may need to add additional <code>using</code> directives to your code if your project does not use this feature.</p>
</div>

<h2 id="mark-content-to-require-authentication-in-the-xperience-administration">Mark content to require authentication in the Xperience administration</h2>
<p>In the admin UI of Xperience by Kentico, you can find configurable properties to specify whether a given content item is secured.</p>
<h3 id="restrict-a-website-page">Restrict a website page</h3>
<p>In the Xperience admin UI, open a <em>website channel</em> where you want to secure a page.</p>
<p>Then, select the page you want to secure in the content tree, and switch to the <strong>Properties</strong> tab.</p>
<p>Expand the <strong>Membership</strong> section and tick the box to require authentication, before clicking to publish the change.</p>

<div>

</div>
<div>
<p>For this example, choose one of the article pages under the <strong>News and articles</strong> page of the <strong>Training guides pages</strong> channel.</p>
<p>Depending on whether you’ve completed the <a href="/guides/development/advanced-content">advanced content guides</a>, some articles might not work. Make sure you choose one that renders properly.</p>
</div>

<p></p>
<h3 id="restrict-a-reusable-item-in-the-content-hub">Restrict a reusable item in the Content hub</h3>
<p>In the <strong>Content hub</strong>, edit the item you want to secure.</p>
<p>Select the <strong>Properties</strong> tab and tick the box to require authentication under the <strong>Security</strong> heading.</p>

<div>

</div>
<div>
<p>For this example, choose one of the reusable articles referenced by a page under the <strong>News and articles</strong> page of the <strong>Training guides pages</strong> channel.</p>
<p>Make sure it’s from a page that renders properly, and is <strong>NOT</strong> associated with the page you chose in the previous section. <strong>DO NOT</strong> secure the page that references this reusable item, only secure the reusable item itself.</p>
</div>

<p></p>
<h2 id="handle-the-403-http-status-code">Handle the 403 HTTP status code</h2>
<p>The <em>403 Forbidden</em> error code is used in web development to indicate that someone does not have access to a resource.</p>
<p>Both Xperience and .NET Identity follow this convention in ways that are relevant to our scenario:</p>
<ul>
<li>Xperience’s <a href="/documentation/developers-and-admins/development/routing/content-tree-based-routing">Content tree-based router</a> returns this status code when a secured page is requested by an unauthenticated visitor.</li>
<li>.NET Identity offers <a href="https://learn.microsoft.com/en-us/aspnet/core/security/authentication/identity-configuration?view=aspnetcore-9.0#cookie-settings" target="_blank">configuration</a> to redirect requests that return this status code to a certain path, such as a sign-in page.</li>
</ul>
<h3 id="configure-identity">Configure Identity</h3>
<p>If you examine the Identity configuration options mentioned above, you’ll notice that the path must be set on startup, and therefore does not have the context of the request for which access was denied. There is no way to determine, for example, which language variant of the sign-in page the application should redirect to.</p>
<p>Therefore, let’s redirect visitors to a handler that can dynamically figure out which language version they should see.</p>
<p>Start by creating three constants:</p>
<ul>
<li>One should hold the path to a controller action that will serve as this handler.</li>
<li>Another should determine the name of the query string parameter to which Identity assigns the <em>return URL</em> (the path that initially returned the <em>403 Forbidden</em> status).</li>
<li>The final constant should hold a name for the authentication cookie.</li>
</ul>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>~/Features/Shared/Helpers/ApplicationConstants.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
...
public const string ACCESS_DENIED_ACTION_PATH = "/Authentication/AccessDenied";
public const string RETURN_URL_PARAMETER = "returnUrl";
...
</code></pre>
</div>


<div>
<div>
<div>
<span>C#</span>
</div>
<strong>~/Features/DataProtection/Shared.CookieNames.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
...
// Essential cookies
public const string COOKIE_AUTHENTICATION = "trainingguides.authentication";
...
</code></pre>
</div>

<p>Then, use these constants to set the corresponding <code>CookieAuthenticationOptions</code> properties in the <code>ConfigureApplicationCookie</code> call during startup.</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>~/Program.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
...
builder.Services.ConfigureApplicationCookie(options =&gt;
{
    options.AccessDeniedPath = new PathString(ApplicationConstants.ACCESS_DENIED_ACTION_PATH);
    options.ReturnUrlParameter = ApplicationConstants.RETURN_URL_PARAMETER;
    options.Cookie.IsEssential = true;
    options.Cookie.Name = CookieNames.COOKIE_AUTHENTICATION;
});
...
</code></pre>
</div>


<div>

</div>
<div>
<p>Make sure that you call <code>ConfigureApplicationCookie</code> <em>after</em> <code>AddIdentity</code>.</p>
</div>

<h3 id="define-the-accessdenied-controller-action">Define the AccessDenied controller action</h3>
<p>With identity configured, let’s create the handler to which it will redirect.</p>
<p>Add a new action called <code>AccessDenied</code> to the authentication controller, utilizing the path constant from earlier.</p>
<p>Include logic that extracts a language codename from the provided <em>return URL</em> if it exists, and returns the default language code otherwise.</p>
<p>Then, use it to get a language-specific sign-in URL with a new <code>IMembershipService</code> method.</p>
<p>Finally, redirect to the sign-in URL, passing along the query string parameter so that we can redirect to the secured content after successful authentication.</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>AuthenticationController.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
...
using Kentico.Content.Web.Mvc.Routing;
...
namespace TrainingGuides.Web.Features.Membership.Controllers;

public class AuthenticationController : Controller
{
    // Use dependency injection to populate these
    private readonly IMembershipService membershipService;
    private readonly IStringLocalizer&lt;SharedResources&gt; stringLocalizer;
    private readonly IHttpRequestService httpRequestService;
    // NEW DEPENDENCIES
    private readonly IPreferredLanguageRetriever preferredLanguageRetriever;
    private readonly IInfoProvider&lt;ContentLanguageInfo&gt; contentLanguageInfoProvider;
    // END NEW DEPENDENCIES

    private const string SIGN_IN_FAILED = "Your sign-in attempt was not successful. Please try again.";

    ...

    [HttpGet(ApplicationConstants.ACCESS_DENIED_ACTION_PATH)]
    public async Task&lt;IActionResult&gt; AccessDenied([FromQuery(Name = ApplicationConstants.RETURN_URL_PARAMETER)] string returnUrl)
    {
        string language = GetLanguageFromReturnUrl(returnUrl);

        string signInUrl = await membershipService.GetSignInUrl(language, true);

        var query = QueryString.Create(ApplicationConstants.RETURN_URL_PARAMETER, returnUrl);

        var redirectUrl = new UriBuilder(signInUrl)
        {
            Query = query.ToString()
        };

        return Redirect(redirectUrl.ToString());
    }

    private string GetLanguageFromReturnUrl(string returnUrl)
    {
        // Cache this in real-world scenarios
        var languages = contentLanguageInfoProvider.Get()
            .Column(nameof(ContentLanguageInfo.ContentLanguageName))
            .GetListResult&lt;string&gt;();

        foreach (string language in languages)
        {
            if (returnUrl.StartsWith($"/{language}/", StringComparison.OrdinalIgnoreCase) || returnUrl.StartsWith($"~/{language}/", StringComparison.OrdinalIgnoreCase))
            {
                return language;
            }
        }
        // Since this controller action has no language in its path, this will return the channel default.
        return preferredLanguageRetriever.Get();
    }
}
</code></pre>
</div>

<p>Here is the referenced addition to the membership service:</p>

<div>

</div>
<div>
<p>The code samples in this example rely on a <a href="https://github.com/Kentico/xperience-by-kentico-training-guides/blob/main/src/TrainingGuides.Web/Features/Shared/Services/TrainingGuidesWebPageUrlRetriever.cs" target="_blank">decorated version</a> of <code>IWebPageUrlRetriever</code> that includes exception handling.</p>
<p>If you do not plan to use a similar customization, make sure to handle errors that the <code>Retrieve</code> method may throw.</p>
</div>


<div>
<div>
<div>
<span>C#</span>
</div>
<strong>IMembershipService.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
/// &lt;summary&gt;
/// Gets the URL of the expected sign in page in the provided language.
/// &lt;/summary&gt;
/// &lt;param name="language"&gt;The required language to retrieve.&lt;/param&gt;
/// &lt;param name="absoluteURL"&gt;Whether to return an absolute URL.&lt;/param&gt;
/// &lt;returns&gt;The relative path of the sign in page.&lt;/returns&gt;
Task&lt;string&gt; GetSignInUrl(string language, bool absoluteURL = false);
</code></pre>
</div>


<div>
<div>
<div>
<span>C#</span>
</div>
<strong>MembershipService.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
/// &lt;inheritdoc /&gt;
public async Task&lt;string&gt; GetSignInUrl(string language, bool absoluteURL = false)
    =&gt; await GetPageUrl(ApplicationConstants.EXPECTED_SIGN_IN_PATH, language, absoluteURL);
...
private async Task&lt;string&gt; GetPageUrl(string expectedPagePath, string language, bool absoluteURL = false)
{
    var signInUrl = await webPageUrlRetriever.Retrieve(
        webPageTreePath: expectedPagePath,
        websiteChannelName: websiteChannelContext.WebsiteChannelName,
        languageName: language
    );

    return absoluteURL ?
        httpRequestService.GetAbsoluteUrlForPath(signInUrl.RelativePath.TrimStart('~'), false)
        : signInUrl.RelativePath;
}
...
</code></pre>
</div>

<p>And here is the constant it utilizes for the tree path of the sign-in page:</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>~/Features/Shared/Helpers/ApplicationConstants.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
...
public const string EXPECTED_SIGN_IN_PATH = "/Membership/Sign_in";
...
</code></pre>
</div>


<div>

</div>
<div>
<p><strong>Referencing specific items in the database from code</strong></p>
<p>This code depends on a sign-in page existing at a specific path in the content tree. (It doesn’t need to be the only one, but it must exist at the specified tree path.)</p>
<p>When you need to store a reference to some kind of identifier for data in the database, we recommend using something that editors have control over, such as a tree path or codename, rather than something like a numerical ID or GUID.</p>
<p>That way, if an editor accidentally moves or deletes an object, it is possible for them to fix it with no code changes necessary.</p>
</div>

<h2 id="check-your-progress">Check your progress</h2>
<p>Now, if you set the <em>About conifers</em> page to require authentication earlier, you can test out the functionality.</p>

<p>You’ll notice that the secured page correctly redirects to the <em>Sign in</em> page, but once the member authenticates, the form <strong>DOES NOT</strong> send them to the <em>return URL</em>.</p>
<p>We’ll have to make some changes for that to work.</p>
<h2 id="add-redirect-logic-to-the-sign-in-widget">Add redirect logic to the Sign-in widget</h2>
<p>Let’s expand the <em>Sign in</em> widget view component to redirect a member back to the provided <em>return URL</em> after successful authentication.</p>
<p>It needs to find the <code>returnUrl</code> value in the query string of the request, so we should start with a new method in the <code>HttpRequestService</code>.</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>~/Features/Shared/Services/IHttpRequestService.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
/// &lt;summary&gt;
/// Retrieves the value of the specified query string parameter
/// &lt;/summary&gt;
/// &lt;param name="parameter"&gt;The name of the query string parameter to retrieve&lt;/param&gt;
/// &lt;returns&gt;The value of the specified query string parameter&lt;/returns&gt;
string GetQueryStringValue(string parameter);
</code></pre>
</div>


<div>
<div>
<div>
<span>C#</span>
</div>
<strong>~/Features/Shared/Services/HttpRequestService.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
/// &lt;inheritdoc/&gt;
public string GetQueryStringValue(string parameter) =&gt; httpContextAccessor.HttpContext?.Request.Query[parameter].ToString() ?? string.Empty;
</code></pre>
</div>

<p>Then, expand the <code>BuildWidgetViewModel</code> method of the sign-in widget view component to check the query string for a <em>returnUrl</em> value, falling back to the previous logic if it finds none.</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>SignInWidgetViewComponent.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
using TrainingGuides.Web.Features.Shared.Helpers;
...
public class SignInWidgetViewComponent : ViewComponent
{
...
    public async Task&lt;SignInWidgetViewModel&gt; BuildWidgetViewModel(SignInWidgetProperties properties) =&gt; new SignInWidgetViewModel
    {
        ActionUrl = GetActionUrl(),
        DefaultRedirectPageGuid = properties.DefaultRedirectPage.FirstOrDefault()?.WebPageGuid ?? Guid.Empty,
        DisplayForm = !await membershipService.IsMemberAuthenticated(),
        FormTitle = properties.FormTitle,
        SubmitButtonText = properties.SubmitButtonText,
        UserNameOrEmailLabel = properties.UserNameLabel,
        PasswordLabel = properties.PasswordLabel,
        StaySignedInLabel = properties.StaySignedInLabel
    };

    private string GetActionUrl()
    {
        // New code: retrieve and use the return URL if it exists
        string? returnUrl = GetReturnUrlFromQueryString();
        QueryString? queryString = string.IsNullOrWhiteSpace(returnUrl) ? null : QueryString.Create(ApplicationConstants.RETURN_URL_PARAMETER, returnUrl);

        return httpRequestService.GetAbsoluteUrlForPath(ApplicationConstants.AUTHENTICATE_ACTION_PATH, true, queryString);
    }

    // New code: use the new HttpRequestService method to retrieve the query string
    private string? GetReturnUrlFromQueryString()
    {
        string returnUrl = httpRequestService.GetQueryStringValue(ApplicationConstants.RETURN_URL_PARAMETER);

        // If there is no return URL or it is not a relative URL, return null
        if (string.IsNullOrWhiteSpace(returnUrl) || !returnUrl.StartsWith("/"))
        {
            return null;
        }

        return returnUrl;
    }
}
</code></pre>
</div>


<div>

</div>
<div>
<p>See <a href="/guides/development/multilingual/implement-language-selector-for-your-website#handle-urls-and-routing">this section of the language selector guide</a> or <a href="https://github.com/Kentico/xperience-by-kentico-training-guides/blob/finished/src/TrainingGuides.Web/Features/Shared/Services/HttpRequestService.cs" target="_blank">the training guides repository</a> for details about how to implement the <code>GetBaseUrlWithLanguage</code> method.</p>
</div>


<div>

</div>
<div>
<p>If you ensure the return URL only works with relative paths, you can prevent attackers from exploiting the query string to redirect members to phishing sites after successful authentication on your site.</p>
</div>

<h2 id="see-the-redirect-in-action">See the redirect in action</h2>
<p>Now the sign in form should correctly redirect you to the <em>return URL</em> after you authenticate.</p>

<p>However, you may notice that even if you followed along <a href="#restrict-a-reusable-item-in-the-content-hub">earlier</a> and set a reusable item to require authentication, it is still visible to signed out users on the page.</p>
<p></p>
<p>This happens because the web page that references this reusable article is not secured. The <em>content tree-based router</em> only knows to check security of the pages it is retrieving, and not any reusable content they might reference.</p>
<h2 id="handle-secured-reusable-content">Handle secured reusable content</h2>
<p>Ideally, content editors should mark all pages that reference secured items to require authentication, but we shouldn’t assume that they will never make mistakes.</p>
<p>When pages display reusable content, you need one of the following approaches to for security:</p>
<ol type="1">
<li>Set the query that retrieves the content to <a href="/documentation/developers-and-admins/development/content-retrieval/retrieve-page-content#page-security-configuration">filter out secured items</a>.</li>
<li>Check the <code>ContentItemIsSecured</code> value of the linked items you want to secure, and react accordingly. For example, you can redirect or display an error message.</li>
</ol>
<p>In this case, let’s try the latter.</p>
<p>Go to the <em>~/Features/Articles/Services</em> folder and add a new method to the article page service. It should check if the primary reusable content item referenced by an article page is secured.</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>IArticlePageService.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
...
/// &lt;summary&gt;
/// Determines whether the reusable article item referenced by the article page is secured.
/// &lt;/summary&gt;
/// &lt;param name="articlePage"&gt;The article page.&lt;/param&gt;
/// &lt;returns&gt;True if the reusable item that the page references is secured.&lt;/returns&gt;
bool IsReusableArticleSecured(ArticlePage articlePage);
...
</code></pre>
</div>


<div>
<div>
<div>
<span>C#</span>
</div>
<strong>ArticlePageService.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
...
/// &lt;inheritdoc/&gt;
public bool IsReusableArticleSecured(ArticlePage articlePage)
{
    var oldArticle = articlePage.ArticlePageContent.FirstOrDefault();
    var newArticle = (IContentItemFieldsSource?)articlePage.ArticlePageArticleContent.FirstOrDefault();

    return (oldArticle?.SystemFields.ContentItemIsSecured ?? false)
        || (newArticle?.SystemFields.ContentItemIsSecured ?? false);
}
...
</code></pre>
</div>


<div>

</div>
<div>
<p>Depending on whether you’ve followed along with the <a href="/guides/development/advanced-content">Advanced content</a> series, the <code>ArticlePageArticleContent</code> field may or may not exist in the <code>ArticlePage</code> type.</p>
</div>

<p>Then, use your new method in the article page controller, returning the <em>403 Forbidden</em> status code when the current visitor is unauthenticated and the item is secured.</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>ArticlePageController.cs</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>
using TrainingGuides.Web.Features.Membership.Services;
...
public class ArticlePageController : Controller
{
    // Use dependency injection to populate these
    private readonly IWebPageDataContextRetriever webPageDataContextRetriever;
    private readonly IContentItemRetrieverService&lt;ArticlePage&gt; articlePageRetrieverService;
    private readonly IArticlePageService articlePageService;
    // NEW DEPENDENCY
    private readonly IMembershipService membershipService;

    ...

    public async Task&lt;IActionResult&gt; Index()
    {
        var context = webPageDataContextRetriever.Retrieve();
        var articlePage = await articlePageRetrieverService.RetrieveWebPageById(
            context.WebPage.WebPageItemID,
            ArticlePage.CONTENT_TYPE_NAME,
            2);

        // NEW CODE
        if (articlePage is not null
            &amp;&amp; articlePageService.IsReusableArticleSecured(articlePage)
            &amp;&amp; !await membershipService.IsMemberAuthenticated())
        {
            return Forbid();
        }
        // END NEW CODE

        var model = await articlePageService.GetArticlePageViewModel(articlePage);
        return new TemplateResult(model);
    }
    ...
</code></pre>
</div>

<h2 id="see-the-results">See the results</h2>
<p>Now, Identity should handle the 403 status the same way it does for pages if you try to access a secured article.</p>

<h2 id="whats-next">What’s next?</h2>
<p>The <a href="https://github.com/Kentico/xperience-by-kentico-training-guides/tree/finished" target="_blank">finished branch</a> of the <em>Training guides</em> repository contains a demonstration of two approaches to handle secured content in listings:</p>
<ul>
<li>Display a message explaining that the item is locked and linking to the sign-in page.</li>
<li>Hide secured items completely from the listing by filtering them out of the query.</li>
</ul>
<p>If you’re looking to expand upon the lesson we’ve just covered, try to implement this functionality in your own project.</p>
<p>Specifically, check out:</p>
<ul>
<li>The <a href="https://github.com/Kentico/xperience-by-kentico-training-guides/blob/finished/src/TrainingGuides.Web/Features/Articles/Widgets/ArticleList" target="_blank"><em>Article list</em> widget</a>.</li>
<li>The <a href="https://github.com/Kentico/xperience-by-kentico-training-guides/blob/finished/src/TrainingGuides.Web/Features/Articles/Services/ArticlePageService.cs" target="_blank">Article page service</a>.</li>
<li>The <a href="https://github.com/Kentico/xperience-by-kentico-training-guides/blob/finished/src/TrainingGuides.Web/Features/Shared/Services/ContentItemRetrieverService.cs" target="_blank">Content item retriever service</a>.</li>
</ul>
<p>The branch also contains other useful features for your reference, like <a href="https://github.com/Kentico/xperience-by-kentico-training-guides/blob/finished/src/TrainingGuides.Web/Features/Membership/Widgets/ResetPassword" target="_blank">password reset functionality</a> and a <a href="https://github.com/Kentico/xperience-by-kentico-training-guides/blob/finished/src/TrainingGuides.Web/Features/Membership/Widgets/LinkOrSignOut" target="_blank">dynamic widget</a> that shows a sign-out button or a link depending on whether or not the current visitor is authenticated.</p>

</body>
</html>
